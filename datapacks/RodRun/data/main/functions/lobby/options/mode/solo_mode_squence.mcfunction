# Timer
scoreboard players add !Timer Mode_animation 1
execute if score !Timer Mode_animation matches 186.. run scoreboard players set !Timer Mode_animation -1

#Title
execute if score !Timer Mode_animation matches 102 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] times 0 60 20
execute if score !Timer Mode_animation matches 102..128 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] title {"text":""}
execute if score !Timer Mode_animation matches 102 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"F","color":"yellow"}
execute if score !Timer Mode_animation matches 103 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Fr","color":"yellow"}
execute if score !Timer Mode_animation matches 104 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Fre","color":"yellow"}
execute if score !Timer Mode_animation matches 105 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free","color":"yellow"}
execute if score !Timer Mode_animation matches 106 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free ","color":"yellow"}
execute if score !Timer Mode_animation matches 107 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free F","color":"yellow"}
execute if score !Timer Mode_animation matches 108 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free Fo","color":"yellow"}
execute if score !Timer Mode_animation matches 109 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For","color":"yellow"}
execute if score !Timer Mode_animation matches 110 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For ","color":"yellow"}
execute if score !Timer Mode_animation matches 111 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For A","color":"yellow"}
execute if score !Timer Mode_animation matches 112 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For Al","color":"yellow"}
execute if score !Timer Mode_animation matches 113 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All","color":"yellow"}
execute if score !Timer Mode_animation matches 114 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All ","color":"yellow"}
execute if score !Timer Mode_animation matches 115 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All m","color":"yellow"}
execute if score !Timer Mode_animation matches 116 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mo","color":"yellow"}
execute if score !Timer Mode_animation matches 117 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mod","color":"yellow"}
execute if score !Timer Mode_animation matches 118 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode","color":"yellow"}
execute if score !Timer Mode_animation matches 119 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode ","color":"yellow"}
execute if score !Timer Mode_animation matches 120 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode s","color":"yellow"}
execute if score !Timer Mode_animation matches 121 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode se","color":"yellow"}
execute if score !Timer Mode_animation matches 122 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode sel","color":"yellow"}
execute if score !Timer Mode_animation matches 123 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode sele","color":"yellow"}
execute if score !Timer Mode_animation matches 124 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode selec","color":"yellow"}
execute if score !Timer Mode_animation matches 125 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode select","color":"yellow"}
execute if score !Timer Mode_animation matches 126 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode selecte","color":"yellow"}
execute if score !Timer Mode_animation matches 127 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode selected","color":"yellow"}
execute if score !Timer Mode_animation matches 128 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode selected!","color":"yellow"}

execute if score !Timer Mode_animation matches 131 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Free For All mode ","color":"yellow"},{"text":"selected","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 134 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode selected!","color":"yellow"}
execute if score !Timer Mode_animation matches 137 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Free For All mode ","color":"yellow"},{"text":"selected","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 140 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode selected!","color":"yellow"}
execute if score !Timer Mode_animation matches 143 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Free For All mode ","color":"yellow"},{"text":"selected","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 146 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode selected!","color":"yellow"}
execute if score !Timer Mode_animation matches 149 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Free For All mode ","color":"yellow"},{"text":"selected","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 152 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode selected!","color":"yellow"}
execute if score !Timer Mode_animation matches 155 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Free For All mode ","color":"yellow"},{"text":"selected","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 158 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Free For All mode selected!","color":"yellow"}

# Kill armor teams
execute if score !Timer Mode_animation matches 102 run kill @e[name=Blue,type=armor_stand]
execute if score !Timer Mode_animation matches 102 run kill @e[name=Red,type=armor_stand]
execute if score !Timer Mode_animation matches 102 run kill @e[name=White,type=armor_stand]

# Kill villager teams
execute if score !Timer Mode_animation matches 102 run teleport @e[name=Blue_villager,type=villager] ~ -1000 ~
execute if score !Timer Mode_animation matches 102 run teleport @e[name=Red_villager,type=villager] ~ -1000 ~
execute if score !Timer Mode_animation matches 102 run teleport @e[name=White_villager,type=villager] ~ -1000 ~

# Reset tags
execute if score !Timer Mode_animation matches 102 run tag @a[tag=!In_game] remove Blue
execute if score !Timer Mode_animation matches 102 run tag @a[tag=!In_game] remove White
execute if score !Timer Mode_animation matches 102 run tag @a[tag=!In_game] remove Red

# Remove boots
execute if score !Timer Mode_animation matches 102 run replaceitem entity @a[tag=!In_game] armor.feet air

# Reset teams
execute if score !Timer Mode_animation matches 102 run execute as @a[tag=In_lobby] run function main:lobby/others/set_team

# Remove team platform
execute if score !Timer Mode_animation matches 102 run setblock 6 21 -45 air
execute if score !Timer Mode_animation matches 102 run fill 2 20 -48 11 20 -45 jungle_planks destroy

# Placing sequence
execute if score !Timer Mode_animation matches 110 run setblock 3 21 -46 spruce_wood
execute if score !Timer Mode_animation matches 110 run setblock 3 21 -46 spruce_wood destroy
execute if score !Timer Mode_animation matches 115 run setblock 3 21 -47 spruce_wood
execute if score !Timer Mode_animation matches 115 run setblock 3 21 -47 spruce_wood destroy
execute if score !Timer Mode_animation matches 120 run setblock 4 21 -47 spruce_wood
execute if score !Timer Mode_animation matches 120 run setblock 4 21 -47 spruce_wood destroy
execute if score !Timer Mode_animation matches 125 run setblock 5 21 -47 spruce_wood
execute if score !Timer Mode_animation matches 125 run setblock 5 21 -47 spruce_wood destroy
execute if score !Timer Mode_animation matches 130 run setblock 6 21 -47 spruce_wood
execute if score !Timer Mode_animation matches 130 run setblock 6 21 -47 spruce_wood destroy
execute if score !Timer Mode_animation matches 135 run setblock 7 21 -47 spruce_wood
execute if score !Timer Mode_animation matches 135 run setblock 7 21 -47 spruce_wood destroy
execute if score !Timer Mode_animation matches 140 run setblock 8 21 -47 spruce_wood
execute if score !Timer Mode_animation matches 140 run setblock 8 21 -47 spruce_wood destroy
execute if score !Timer Mode_animation matches 145 run setblock 9 21 -47 spruce_wood
execute if score !Timer Mode_animation matches 145 run setblock 9 21 -47 spruce_wood destroy
execute if score !Timer Mode_animation matches 150 run setblock 9 21 -46 spruce_wood
execute if score !Timer Mode_animation matches 150 run setblock 9 21 -46 spruce_wood destroy
execute if score !Timer Mode_animation matches 155 run fill 8 21 -46 4 21 -46 minecraft:end_stone_brick_slab[type=bottom]
execute if score !Timer Mode_animation matches 155 run fill 8 21 -46 4 21 -46 minecraft:end_stone_brick_slab[type=bottom] destroy
execute if score !Timer Mode_animation matches 160 run setblock 3 22 -46 flower_pot
execute if score !Timer Mode_animation matches 160 run setblock 3 22 -46 flower_pot destroy
execute if score !Timer Mode_animation matches 165 run setblock 4 22 -47 brown_carpet
execute if score !Timer Mode_animation matches 165 run setblock 4 22 -47 brown_carpet destroy
execute if score !Timer Mode_animation matches 165 run setblock 5 22 -47 brown_carpet
execute if score !Timer Mode_animation matches 165 run setblock 5 22 -47 brown_carpet destroy
execute if score !Timer Mode_animation matches 165 run setblock 8 22 -47 brown_carpet
execute if score !Timer Mode_animation matches 165 run setblock 8 22 -47 brown_carpet destroy
execute if score !Timer Mode_animation matches 165 run setblock 9 22 -46 brown_carpet
execute if score !Timer Mode_animation matches 165 run setblock 9 22 -46 brown_carpet destroy

# Place slab
execute if score !Timer Mode_animation matches 185 run setblock 6 22 -47 spruce_slab[type=bottom]
execute if score !Timer Mode_animation matches 185 run setblock 6 22 -47 spruce_slab[type=bottom] destroy

# Place sign
execute if score !Timer Mode_animation matches 185 run setblock 6 22 -46 oak_wall_sign[facing=south]
execute if score !Timer Mode_animation matches 185 run setblock 6 22 -46 oak_wall_sign[facing=south] destroy

# Merge sign
execute if score !Timer Mode_animation matches 185 run data merge block 6 22 -46 {Text1:'{"text":"-==oOo==-","clickEvent":{"action":"run_command","value":"function main:lobby/options/mode/init_team_mode"},"color":"dark_gray"}',Text2:'[{"text":""},{"text":"Mode","bold":true,"color":"yellow"},{"text":":","color":"yellow"}]',Text3:'{"text":"Free For All","color":"gold"}',Text4:'{"text":"-==oOo==-","color":"dark_gray"}'}
