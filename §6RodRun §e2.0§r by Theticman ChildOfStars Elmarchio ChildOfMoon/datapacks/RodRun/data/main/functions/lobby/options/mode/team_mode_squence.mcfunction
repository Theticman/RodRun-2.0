# Timer
scoreboard players add !Timer Mode_animation 1
execute if score !Timer Mode_animation matches 71.. run scoreboard players set !Timer Mode_animation -1

# Title
execute if score !Timer Mode_animation matches 2 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] times 0 60 20
execute if score !Timer Mode_animation matches 2..32 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] title {"text":""}
execute if score !Timer Mode_animation matches 2 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"T","color":"yellow"}
execute if score !Timer Mode_animation matches 3 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Te","color":"yellow"}
execute if score !Timer Mode_animation matches 4 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Tea","color":"yellow"}
execute if score !Timer Mode_animation matches 5 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team","color":"yellow"}
execute if score !Timer Mode_animation matches 6 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team ","color":"yellow"}
execute if score !Timer Mode_animation matches 7 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team m","color":"yellow"}
execute if score !Timer Mode_animation matches 8 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mo","color":"yellow"}
execute if score !Timer Mode_animation matches 9 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mod","color":"yellow"}
execute if score !Timer Mode_animation matches 10 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode","color":"yellow"}
execute if score !Timer Mode_animation matches 11 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode ","color":"yellow"}
execute if score !Timer Mode_animation matches 12 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode s","color":"yellow"}
execute if score !Timer Mode_animation matches 13 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode se","color":"yellow"}
execute if score !Timer Mode_animation matches 14 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode sel","color":"yellow"}
execute if score !Timer Mode_animation matches 15 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode sele","color":"yellow"}
execute if score !Timer Mode_animation matches 16 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selec","color":"yellow"}
execute if score !Timer Mode_animation matches 17 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode select","color":"yellow"}
execute if score !Timer Mode_animation matches 18 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selecte","color":"yellow"}
execute if score !Timer Mode_animation matches 19 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected","color":"yellow"}
execute if score !Timer Mode_animation matches 20 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected,","color":"yellow"}
execute if score !Timer Mode_animation matches 21 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, ","color":"yellow"}
execute if score !Timer Mode_animation matches 22 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, jo","color":"yellow"}
execute if score !Timer Mode_animation matches 23 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, joi","color":"yellow"}
execute if score !Timer Mode_animation matches 24 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join","color":"yellow"}
execute if score !Timer Mode_animation matches 25 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join ","color":"yellow"}
execute if score !Timer Mode_animation matches 26 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a","color":"yellow"}
execute if score !Timer Mode_animation matches 27 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a ","color":"yellow"}
execute if score !Timer Mode_animation matches 28 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a t","color":"yellow"}
execute if score !Timer Mode_animation matches 29 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a te","color":"yellow"}
execute if score !Timer Mode_animation matches 30 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a tea","color":"yellow"}
execute if score !Timer Mode_animation matches 31 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a team","color":"yellow"}
execute if score !Timer Mode_animation matches 32 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a team!","color":"yellow"}

execute if score !Timer Mode_animation matches 35 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Team mode selected, ","color":"yellow"},{"text":"join a team","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 38 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a team!","color":"yellow"}
execute if score !Timer Mode_animation matches 41 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Team mode selected, ","color":"yellow"},{"text":"join a team","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 44 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a team!","color":"yellow"}
execute if score !Timer Mode_animation matches 47 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Team mode selected, ","color":"yellow"},{"text":"join a team","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 50 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a team!","color":"yellow"}
execute if score !Timer Mode_animation matches 53 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Team mode selected, ","color":"yellow"},{"text":"join a team","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 56 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a team!","color":"yellow"}
execute if score !Timer Mode_animation matches 59 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle [{"text":"Team mode selected, ","color":"yellow"},{"text":"join a team","color":"gold"},{"text":"!","color":"yellow"}]
execute if score !Timer Mode_animation matches 62 run execute as @a[tag=!Spawn] run title @s[tag=In_lobby] subtitle {"text":"Team mode selected, join a team!","color":"yellow"}

# Sequence
# Remove couch
execute if score !Timer Mode_animation matches 2 run fill 10 22 -45 3 21 -48 air destroy

# Stairs Blue armor_stand
execute if score !Timer Mode_animation matches 10 run setblock 4 20 -46 jungle_stairs[facing=east] destroy
execute if score !Timer Mode_animation matches 10 run setblock 3 20 -47 jungle_stairs[facing=north] destroy
execute if score !Timer Mode_animation matches 10 run setblock 3 20 -45 jungle_stairs[facing=south] destroy
execute if score !Timer Mode_animation matches 10 run setblock 2 20 -46 jungle_stairs[facing=west] destroy
execute if score !Timer Mode_animation matches 10 run setblock 3 20 -46 air destroy

execute if score !Timer Mode_animation matches 10..30 run execute as @a[x=3,y=20,z=-46,distance=..1] run tellraw @s {"text":"Don't go here! Something is coming..","italic":true,"color":"red"}
execute if score !Timer Mode_animation matches 10..30 run execute as @a[x=3,y=20,z=-46,distance=..1] at @s run teleport @s ~ ~1 ~3 180 10

execute if score !Timer Mode_animation matches 20 run summon minecraft:armor_stand 3 18 -46 {Rotation:[320F],CustomNameVisible:1b,Invulnerable:1b,ShowArms:1b,NoBasePlate:1b,Motion:[0.0,1.0,0.0],DisabledSlots:4144959,ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:3708879}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:3708879}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:3708879}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:3708879}}}],CustomName:'{"text":"Blue","color":"aqua","bold":true,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}'}
execute if score !Timer Mode_animation matches 20 run summon villager 3 18 -46 {CustomName:"{\"text\":\"Blue_villager\"}",Silent:1b,Invulnerable:0b,PersistenceRequired:1b,NoAI:1b,Willing:0b,Tags:["team_blue"],VillagerData:{level:5,profession:"minecraft:nitwit",type:"minecraft:snow"},ActiveEffects:[{Id:14b,Amplifier:0b,Duration:999999999,ShowParticles:0b}]}

execute if score !Timer Mode_animation matches 30 run setblock 3 20 -46 sea_lantern
execute if score !Timer Mode_animation matches 30 run setblock 3 20 -46 sea_lantern destroy

# Stairs White armor_stand
execute if score !Timer Mode_animation matches 20 run setblock 7 20 -47 jungle_stairs[facing=east] destroy
execute if score !Timer Mode_animation matches 20 run setblock 6 20 -48 jungle_stairs[facing=north] destroy
execute if score !Timer Mode_animation matches 20 run setblock 5 20 -47 jungle_stairs[facing=west] destroy
execute if score !Timer Mode_animation matches 20 run setblock 6 20 -46 jungle_stairs[facing=south] destroy

execute if score !Timer Mode_animation matches 20..40 run execute as @a[x=6,y=20,z=-47,distance=..1] run tellraw @s {"text":"Don't go here! Something is coming..","italic":true,"color":"red"}
execute if score !Timer Mode_animation matches 20..40 run execute as @a[x=6,y=20,z=-47,distance=..1] at @s run teleport @s ~ ~1 ~3 180 10
execute if score !Timer Mode_animation matches 20 run setblock 6 20 -47 air destroy

execute if score !Timer Mode_animation matches 30 run summon minecraft:armor_stand 6 18 -47 {CustomNameVisible:1b,Invulnerable:1b,ShowArms:1b,NoBasePlate:1b,Motion:[0.0,1.0,0.0],DisabledSlots:4144959,ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:16777215}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:16777215}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16777215}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16777215}}}],CustomName:'{"text":"White","color":"white","bold":true,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}'}
execute if score !Timer Mode_animation matches 30 run summon villager 6 18 -47 {CustomName:"{\"text\":\"White_villager\"}",Silent:1b,Invulnerable:0b,PersistenceRequired:1b,NoAI:1b,Willing:0b,Tags:["team_white"],VillagerData:{level:5,profession:"minecraft:nitwit",type:"minecraft:snow"},ActiveEffects:[{Id:14b,Amplifier:0b,Duration:999999999,ShowParticles:0b}]}

execute if score !Timer Mode_animation matches 40 run setblock 6 20 -47 sea_lantern
execute if score !Timer Mode_animation matches 40 run setblock 6 20 -47 sea_lantern destroy

# Stairs Red armor_stand
execute if score !Timer Mode_animation matches 30 run setblock 10 20 -46 jungle_stairs[facing=east] destroy
execute if score !Timer Mode_animation matches 30 run setblock 9 20 -47 jungle_stairs[facing=north] destroy
execute if score !Timer Mode_animation matches 30 run setblock 8 20 -46 jungle_stairs[facing=west] destroy
execute if score !Timer Mode_animation matches 30 run setblock 9 20 -45 jungle_stairs[facing=south] destroy
execute if score !Timer Mode_animation matches 30 run setblock 9 20 -46 air destroy

execute if score !Timer Mode_animation matches 30..50 run execute as @a[x=9,y=20,z=-46,distance=..1] run tellraw @s {"text":"Don't go here! Something is coming..","italic":true,"color":"red"}
execute if score !Timer Mode_animation matches 30..50 run execute as @a[x=9,y=20,z=-46,distance=..1] at @s run teleport @s ~ ~1 ~3 180 10

execute if score !Timer Mode_animation matches 40 run summon minecraft:armor_stand 9 18 -46 {Rotation:[35F],CustomNameVisible:1b,Invulnerable:1b,ShowArms:1b,NoBasePlate:1b,Motion:[0.0,1.0,0.0],DisabledSlots:4144959,ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:16711680}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:16711680}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16711680}}},{id:"minecraft:leather_helmet",Count:1b,tag:{display:{color:16711680}}}],CustomName:'{"text":"Red","bold":true,"color":"red","italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}'}
execute if score !Timer Mode_animation matches 40 run summon villager 6 18 -47 {CustomName:"{\"text\":\"Red_villager\"}",Silent:1b,Invulnerable:0b,PersistenceRequired:1b,NoAI:1b,Willing:0b,Tags:["team_red"],VillagerData:{level:5,profession:"minecraft:nitwit",type:"minecraft:snow"},ActiveEffects:[{Id:14b,Amplifier:0b,Duration:999999999,ShowParticles:0b}]}

execute if score !Timer Mode_animation matches 50 run setblock 9 20 -46 sea_lantern
execute if score !Timer Mode_animation matches 50 run setblock 9 20 -46 sea_lantern destroy

# Place slab
execute if score !Timer Mode_animation matches 70 run setblock 6 21 -45 spruce_slab[type=bottom]
execute if score !Timer Mode_animation matches 70 run setblock 6 21 -45 spruce_slab[type=bottom] destroy

# Place sign
execute if score !Timer Mode_animation matches 70 run setblock 6 21 -44 minecraft:oak_wall_sign[facing=south]
execute if score !Timer Mode_animation matches 70 run setblock 6 21 -44 minecraft:oak_wall_sign[facing=south] destroy

# Modify sign data
execute if score !Timer Mode_animation matches 70 run data merge block 6 21 -44 {Text1:'{"text":"-==oOo==-","clickEvent":{"action":"run_command","value":"function main:lobby/options/mode/init_solo_mode"},"color":"dark_gray"}',Text2:'[{"text":""},{"text":"Mode","bold":true,"color":"yellow"},{"text":":","color":"yellow"}]',Text3:'{"text":"Team","color":"gold"}',Text4:'{"text":"-==oOo==-","color":"dark_gray"}'}